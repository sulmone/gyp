{
  'variables': {
    'depth': '..',
  },
  'includes': [
    '../build/common.gypi',
    '../build/external_code.gypi',
  ],
  'target_defaults': {
    'include_dirs': [
      '..',
    ],
    'defines': [
      'ENABLE_DATABASE=1',
      'ENABLE_DASHBOARD_SUPPORT=0',
      'ENABLE_JAVASCRIPT_DEBUGGER=0',
      'ENABLE_JSC_MULTIPLE_THREADS=0',
      'ENABLE_ICONDATABASE=0',
      'ENABLE_XSLT=1',
      'ENABLE_XPATH=1',
      'ENABLE_SVG=1',
      'ENABLE_SVG_ANIMATION=1',
      'ENABLE_SVG_AS_IMAGE=1',
      'ENABLE_SVG_USE=1',
      'ENABLE_SVG_FOREIGN_OBJECT=1',
      'ENABLE_SVG_FONTS=1',
      'ENABLE_VIDEO=1',
      'ENABLE_WORKERS=0',
      'WEBCORE_NAVIGATOR_PLATFORM="\"Win32\""',
      'USE_GOOGLE_URL_LIBRARY',
      'USE_SYSTEM_MALLOC=1',
      'CRASH=__debugbreak',
      'BUILDING_CHROMIUM__=1',
    ],
  },
  'targets': [
    {
      'target_name': 'WTF',
      'type': 'static_library',
      'dependencies': [
        '../third_party/icu38/icu38.gyp:icui18n',
        '../third_party/icu38/icu38.gyp:icuuc',
      ],
      'include_dirs': [
        'build/JavaScriptCore',
        '<(INTERMEDIATE_DIR)',
        '../third_party/WebKit/JavaScriptCore',
        '../third_party/WebKit/JavaScriptCore/os-win32',
        '../third_party/WebKit/JavaScriptCore/kjs',
        '../third_party/WebKit/JavaScriptCore/wtf',
        '../third_party/WebKit/JavaScriptCore/wtf/unicode',
        '../third_party/WebKit/JavaScriptCore/API',
        '../third_party/WebKit/JavaScriptCore/bindings',
        '../third_party/WebKit/JavaScriptCore/bindings/c',
        '../third_party/WebKit/JavaScriptCore/bindings/jni',
        'pending',
        'pending/wtf',
      ],
      'defines': [
        '__STD_C',
        '_SCL_SECURE_NO_DEPRECATE',
        '_CRT_SECURE_NO_DEPRECATE',
        'CRASH=__debugbreak',
      ],
      'msvs_disabled_warnings': [4127, 4355, 4510, 4512, 4610, 4706],
      'sources': [
        '../third_party/WebKit/JavaScriptCore/wtf/AlwaysInline.h',
        '../third_party/WebKit/JavaScriptCore/wtf/ASCIICType.h',
        '../third_party/WebKit/JavaScriptCore/wtf/Assertions.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/Assertions.h',
        '../third_party/WebKit/JavaScriptCore/wtf/ByteArray.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/ByteArray.h',
        '../third_party/WebKit/JavaScriptCore/wtf/unicode/Collator.h',
        '../third_party/WebKit/JavaScriptCore/wtf/unicode/icu/CollatorICU.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/CurrentTime.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/CurrentTime.h',
        '../third_party/WebKit/JavaScriptCore/wtf/Deque.h',
        '../third_party/WebKit/JavaScriptCore/wtf/dtoa.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/dtoa.h',
        '../third_party/WebKit/JavaScriptCore/wtf/FastMalloc.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/FastMalloc.h',
        '../third_party/WebKit/JavaScriptCore/wtf/Forward.h',
        '../third_party/WebKit/JavaScriptCore/wtf/GetPtr.h',
        '../third_party/WebKit/JavaScriptCore/wtf/HashCountedSet.h',
        '../third_party/WebKit/JavaScriptCore/wtf/HashFunctions.h',
        '../third_party/WebKit/JavaScriptCore/wtf/HashMap.h',
        '../third_party/WebKit/JavaScriptCore/wtf/HashSet.h',
        '../third_party/WebKit/JavaScriptCore/wtf/HashTable.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/HashTable.h',
        '../third_party/WebKit/JavaScriptCore/wtf/HashTraits.h',
        '../third_party/WebKit/JavaScriptCore/wtf/ListRefPtr.h',
        '../third_party/WebKit/JavaScriptCore/wtf/MainThread.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/MainThread.h',
        'pending/wtf/MathExtras.h',
        '../third_party/WebKit/JavaScriptCore/wtf/Noncopyable.h',
        '../third_party/WebKit/JavaScriptCore/wtf/OwnArrayPtr.h',
        '../third_party/WebKit/JavaScriptCore/wtf/OwnPtr.h',
        '../third_party/WebKit/JavaScriptCore/wtf/PassRefPtr.h',
        '../third_party/WebKit/JavaScriptCore/wtf/Platform.h',
        '../third_party/WebKit/JavaScriptCore/wtf/PtrAndFlags.h',
        # Need to get the precompiled headers working here.
#        'precompiled_webkit.cc',
        'precompiled_webkit.h',
        '../third_party/WebKit/JavaScriptCore/wtf/RandomNumber.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/RandomNumber.h',
        '../third_party/WebKit/JavaScriptCore/wtf/RefCounted.h',
        '../third_party/WebKit/JavaScriptCore/wtf/RefCountedLeakCounter.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/RefPtr.h',
        '../third_party/WebKit/JavaScriptCore/wtf/RefPtrHashMap.h',
        '../third_party/WebKit/JavaScriptCore/wtf/StdLibExtras.h',
        '../third_party/WebKit/JavaScriptCore/wtf/StringExtras.h',
        '../third_party/WebKit/JavaScriptCore/wtf/TCPackedCache.h',
        '../third_party/WebKit/JavaScriptCore/wtf/TCPageMap.h',
        '../third_party/WebKit/JavaScriptCore/wtf/TCSpinLock.h',
        '../third_party/WebKit/JavaScriptCore/wtf/TCSystemAlloc.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/TCSystemAlloc.h',
        '../third_party/WebKit/JavaScriptCore/wtf/Threading.h',
        '../third_party/WebKit/JavaScriptCore/wtf/ThreadingWin.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/ThreadSpecific.h',
        '../third_party/WebKit/JavaScriptCore/wtf/TypeTraits.h',
        '../third_party/WebKit/JavaScriptCore/wtf/ThreadSpecificWin.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/unicode/Unicode.h',
        '../third_party/WebKit/JavaScriptCore/wtf/unicode/icu/UnicodeIcu.h',
        '../third_party/WebKit/JavaScriptCore/wtf/UnusedParam.h',
        '../third_party/WebKit/JavaScriptCore/wtf/unicode/UTF8.cpp',
        '../third_party/WebKit/JavaScriptCore/wtf/unicode/UTF8.h',
        '../third_party/WebKit/JavaScriptCore/wtf/Vector.h',
        '../third_party/WebKit/JavaScriptCore/wtf/VectorTraits.h',
      ],
    },
  ],
  'conditions': [
    ['OS=="win"', {
      'targets': [
        {
          'target_name': 'webkit_resources',
          'type': 'none',
          'sources': [
            'glue/webkit_resources.grd',
          ],
          'msvs_tool_files': ['../tools/grit/build/grit_resources.rules'],
          'direct_dependent_settings': {
            'include_dirs': [
              '$(OutDir)/grit_derived_sources',
            ],
          },
        },
      ],
    }],
  ],
}
